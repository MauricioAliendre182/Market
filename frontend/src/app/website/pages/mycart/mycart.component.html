<div class="cart-page">
  <h2>🛒 My Shopping Cart</h2>

  <div class="cart-container">
    <div *ngFor="let product of cartProducts" class="cart-item">
      <img [src]="product.imgUrl" alt="{{ product.name }}" class="product-img">
      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p class="category">Category: {{ product.category.category }}</p>
        <p class="price">$ {{ product.price }}</p>
        <p class="active">Active: (product.active) ? Yes : No</p>
      </div>
    </div>
  </div>

  <h3 class="quantity">Quantity: {{ getQuantityProductsForAPurchase() }}</h3>
  <h3 class="total">Total: ${{ getTotalProductsForAPurchase() }}</h3>

  <!-- 📝 Purchase Form -->
  <form (ngSubmit)="submitPurchase()" #orderForm="ngForm" class="purchase-form">
    <!-- Payment Method -->
    <label for="paymentMethod">Payment Method:</label>
    <select id="paymentMethod" [(ngModel)]="purchase.paymentMethod" name="paymentMethod" required>
      <option value="credit-card">Credit Card</option>
      <option value="paypal">PayPal</option>
      <option value="cash">Cash</option>
      <option value="bank-transfer">Bank Transfer</option>
    </select>

    <!-- Payment State -->
    <label for="paymentState">Payment State:</label>
    <select id="paymentState" [(ngModel)]="purchase.state" name="paymentState" required>
      <option value="pending">Pending</option>
      <option value="paid">Paid</option>
      <option value="failed">Failed</option>
    </select>

    <!-- Comment -->
    <label for="comment">Comment:</label>
    <textarea id="comment" [(ngModel)]="purchase.comment" name="comment"></textarea>

    <!-- Submit & Back home Buttons -->
    <div class="cart-actions">
      <button class="purchase-btn" type="submit">🛍 Purchase</button>
      <button class="back-btn" type="button" (click)="backProducts()">🔙 Back</button>
    </div>
  </form>
</div>
